<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: ImageSearch</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: ImageSearch</h1>

    




<section>

<header>
    
        <h2>ImageSearch</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="ImageSearch"><span class="type-signature"></span>new ImageSearch<span class="signature">()</span><span class="type-signature"></span></h4>

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line56">line 56</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>make a change to push cwd __dirname and pop it off at the end</li>
        
            <li>hide private API keys somewhere not visible to public or anyone else if project is on github.</li>
        
            <li>push data from clementsobj, flickrJSON, and cloudinary to imageDB</li>
        </ul>
    </dd>
    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".getFlickrPhoto"><span class="type-signature">(static) </span>getFlickrPhoto<span class="signature">(id)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    The id returned from search() method is used as an input param with the constants url, key,and getImageURL. The method takes an image id and calls the getSizes api. In turn, a selectionis made to the size desired with the variable sizeOfImage and a URL is returned to an image of selected size.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">id is a number associated to a specific image from flickr and foundwith ImageSearch().getPhoto()</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line113">line 113</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    imageURL - sends back an imageURL to the getPhoto chain of Promises.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>this.getFlickrPhoto(id)</code></pre>



        
            

    

    <h4 class="name" id=".getPhoto"><span class="type-signature">(static) </span>getPhoto<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Coming Soon!
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    stuff
</div>



    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>let imageSearch = new ImageSearch(JSONObjectFromClementsDB).getPhoto();</code></pre>



        
            

    

    <h4 class="name" id=".getPhotoContents"><span class="type-signature">(static) </span>getPhotoContents<span class="signature">(id)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Coming Soon!
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">id is a number associated to a specific image from flickr and foundwith ImageSearch().getPhoto()</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line185">line 185</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>Coming Soon!</code></pre>



        
            

    

    <h4 class="name" id=".saveToCloud"><span class="type-signature">(static) </span>saveToCloud<span class="signature">(imageURL, id)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Coming Soon!
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>imageURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">URL associated to a specific image of a specific size.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">d is a number associated to a specific image from flickr and foundwith ImageSearch().getPhoto()</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line235">line 235</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>Coming Soon!</code></pre>



        
            

    

    <h4 class="name" id=".search()"><span class="type-signature">(static) </span>search()<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Uses this.keyword from constructor, @constant url, @constant key, and @constant searchto call Flickr API using nodes core HTTP request. Resolves the promise by sending back an image id to thegetPhoto() method where it will be passed to the next method in a chain of Promises.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>this.search().then(id)=> Wait for the promise to resolve then move to the next Async call</code></pre>



        
            

    

    <h4 class="name" id=".storeFileJSONinfo"><span class="type-signature">(static) </span>storeFileJSONinfo<span class="signature">(contents)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Coming Soon!
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>contents</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">JSON object with data about image of specific id.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line313">line 313</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>Coming Soon!</code></pre>



        
    

    

    
</article>

</section>







<section>

<header>
    
        <h2>ImageSearch</h2>
        
            <div class="class-description">ImageSearch takes an input of an object, usually sent from ./image-search-batch.js, and reduces theobject down to just the scientific name. Asynchronous calls are then made in following order. First, thekeyword is used as input for search() method using the url, key, and search constants to call Flickr API andreturn an id number for a specific photo. Second, the id returned from search() method is used as an input paramfor the getFlickrPhoto() method. The the constants url, key, and getImageURL are also used in this method totake an image id and call the getSizes api. In turn, a selection is made to the size desired and a URL isreturned. Third, we again use the same id used in getFlickrPhoto() method that was generated in search() methodto make another api call to Flickr using constants url, key, and getInfo. This call returns all the JSON dataassociated with the image and user that uploaded the image. Fourth, we will use the saveToCloud() method withparams of imageURL and id to push the image to our Cloudinary cloud server. The saveToCloud() method also usescloudinary config data, keyword, and familyDir to create filename, enabling us to keep the Cloudinary storageorganized.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="ImageSearch"><span class="type-signature"></span>new ImageSearch<span class="signature">(object)</span><span class="type-signature"> &rarr; {<a href="ImageSearch.html">ImageSearch</a>}</span></h4>

    
    <p class="summary">Takes an object from clementsDB, reduces it down to just 'Scientific name',calls flickr api for image,save image to Cloudinary, & then saves JSON data about photos and species to image collection in MongoDB.</p>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">object from ClementsDB</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    ImageSearch returns with an image uploaded to appropriate Cloudinary folder and dataabout that photo stored in the images collection of MongoDB.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="ImageSearch.html">ImageSearch</a></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>let imageSearch = new ImageSearch(objectFromClementsDB).getPhoto();</code></pre>



    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".getFlickrPhoto"><span class="type-signature">(static) </span>getFlickrPhoto<span class="signature">(id)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    The id returned from search() method is used as an input param with the constants url, key,and getImageURL. The method takes an image id and calls the getSizes api. In turn, a selectionis made to the size desired with the variable sizeOfImage and a URL is returned to an image of selected size.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">id is a number associated to a specific image from flickr and foundwith ImageSearch().getPhoto()</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line113">line 113</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    imageURL - sends back an imageURL to the getPhoto chain of Promises.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>this.getFlickrPhoto(id)</code></pre>



        
            

    

    <h4 class="name" id=".getPhoto"><span class="type-signature">(static) </span>getPhoto<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Coming Soon!
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    stuff
</div>



    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>let imageSearch = new ImageSearch(JSONObjectFromClementsDB).getPhoto();</code></pre>



        
            

    

    <h4 class="name" id=".getPhotoContents"><span class="type-signature">(static) </span>getPhotoContents<span class="signature">(id)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Coming Soon!
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">id is a number associated to a specific image from flickr and foundwith ImageSearch().getPhoto()</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line185">line 185</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>Coming Soon!</code></pre>



        
            

    

    <h4 class="name" id=".saveToCloud"><span class="type-signature">(static) </span>saveToCloud<span class="signature">(imageURL, id)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Coming Soon!
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>imageURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">URL associated to a specific image of a specific size.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">d is a number associated to a specific image from flickr and foundwith ImageSearch().getPhoto()</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line235">line 235</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>Coming Soon!</code></pre>



        
            

    

    <h4 class="name" id=".search()"><span class="type-signature">(static) </span>search()<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Uses this.keyword from constructor, @constant url, @constant key, and @constant searchto call Flickr API using nodes core HTTP request. Resolves the promise by sending back an image id to thegetPhoto() method where it will be passed to the next method in a chain of Promises.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>this.search().then(id)=> Wait for the promise to resolve then move to the next Async call</code></pre>



        
            

    

    <h4 class="name" id=".storeFileJSONinfo"><span class="type-signature">(static) </span>storeFileJSONinfo<span class="signature">(contents)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Coming Soon!
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>contents</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">JSON object with data about image of specific id.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="image-search.js.html">image-search.js</a>, <a href="image-search.js.html#line313">line 313</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>Coming Soon!</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ImageSearch.html">ImageSearch</a></li></ul><h3>Namespaces</h3><ul><li><a href="image-search.html">image-search</a></li></ul><h3>Global</h3><ul><li><a href="global.html">options</a></li><li><a href="global.html#sizeOfImage">sizeOfImage</a></li><li><a href="global.html#url">url</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Apr 19 2017 00:00:48 GMT-0600 (MDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>